<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZarTar - Meble na Wymiar</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;660&display=swap" rel="stylesheet">
    <link rel="icon" href="logo_Zartar_sygnet.png" type="image/x-icon">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <div class="logo-cropper">
                    <img src="logo_Zartar.png" alt="ZARTAR Logo">
                </div>
            </div>
            <ul>
                <li><a href="#home">Strona główna</a></li>
                <li><a href="#about">O nas</a></li>
                <li><a href="#services">Usługi</a></li>
                <li><a href="#gallery">Galeria</a></li>
                <li><a href="#contact">Kontakt</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="hero">
            <h1>Meble na Wymiar</h1>
            <p>Tworzymy wymarzone wnętrza z pasją i precyzją</p>
        </section>

        <section id="about" class="about">
            <h2>O nas</h2>
            <p>Tworzymy wszechstronne meble na wymiar od lat, z pasją i precyzją. Nasze realizacje cechuje najwyższa estetyka i dbałość o każdy detal, zawsze dotrzymujemy ustalonych terminów. Współpracujemy z doświadczonymi architektami, wykorzystując w naszej pracy tylko najlepsze systemy i materiały, aby sprostać oczekiwaniom najbardziej wymagających klientów.</p>
        </section>

        <section id="services" class="services">
            <h2>Nasze Usługi</h2>
            <div class="services-grid">
                <div class="service-card">
                    <i class="fas fa-utensils fa-3x"></i>
                    <h3>Meble Kuchenne</h3>
                    <p>Kompleksowe wyposażenie kuchni - od projektu po montaż</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-door-closed fa-3x"></i>
                    <h3>Szafy Wbudowane</h3>
                    <p>Funkcjonalne rozwiązania do każdego pomieszczenia</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-bath fa-3x"></i>
                    <h3>Meble Łazienkowe</h3>
                    <p>Eleganckie i praktyczne meble do łazienki</p>
                </div>
            </div>
        </section>

        <section id="gallery" class="gallery">
            <h2>Nasze Realizacje</h2>
            <div class="gallery-grid">
                <div class="gallery-item" data-images="kitchen2.jpg,kitchen3.jpg,kitchen.jpg,kitchen4.jpg">
                    <img src="kitchen2.jpg" alt="Nowoczesna kuchnia">
                    <div class="gallery-overlay">
                        <h3>Nowoczesna Kuchnia</h3>
                        <p>Minimalistyczny design z funkcjonalnymi rozwiązaniami</p>
                    </div>
                </div>
                <div class="gallery-item" data-images="szafa.jpg,szafa2.jpg,szafa-alt2.jpg">
                    <img src="szafa.jpg" alt="Szafa wbudowana">
                    <div class="gallery-overlay">
                        <h3>Szafa Wbudowana</h3>
                        <p>Maksymalne wykorzystanie przestrzeni</p>
                    </div>
                </div>
                <div class="gallery-item" data-images="lazienka.jpg,lazienka2.jpg,lazienka3.jpg,lazienka4.jpg">
                    <img src="lazienka.jpg" alt="Łazienka">
                    <div class="gallery-overlay">
                        <h3>Łazienka</h3>
                        <p>Eleganckie i praktyczne meble do łazienki</p>
                    </div>
                </div>
                <div class="gallery-item" data-images="salon.jpg,salon2.jpg">
                    <img src="salon.jpg" alt="Salon">
                    <div class="gallery-overlay">
                        <h3>Salon</h3>
                        <p>Komfortowe meble wypoczynkowe</p>
                    </div>
                </div>
                <div class="gallery-item" data-images="recepcja.jpg,recepcja2.jpg,recepcja3.jpg,recepcja4.jpg">
                    <img src="recepcja.jpg" alt="Recepcja">
                    <div class="gallery-overlay">
                        <h3>Recepcja</h3>
                        <p>Profesjonalne meble recepcyjne</p>
                    </div>
                </div>
                <div class="gallery-item" data-images="jadalnia.jpg,jadalnia2.jpg,jadalnia3.jpg">
                    <img src="jadalnia.jpg" alt="Jadalnia">
                    <div class="gallery-overlay">
                        <h3>Jadalnia</h3>
                        <p>Elegancki stół i krzesła</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <h2>Kontakt</h2>
            <div class="contact-info">
                <p><i class="fas fa-envelope"></i> <a href="mailto:biurozartar@gmail.com">Email: biurozartar@gmail.com</a></p>
                <p><i class="fas fa-phone"></i> <a href="tel:+48536240471">Telefon: +48 536 240 471</a></p>
                <p><i class="fas fa-map-marker-alt"></i> <a href="https://maps.app.goo.gl/raJ2jKMG3GgTJyXd6" target="_blank" rel="noopener noreferrer">Adres: ul. Źródlana 22, 33-340 Stary Sącz</a></p>
                <p><i class="fas fa-clock"></i> Godziny otwarcia: Pon-Pt: 8:00 - 16:00, Sob-Nd: Zamknięte</p>
                <div class="social-links">
                    <p><i class="fab fa-facebook"></i> <a href="https://www.facebook.com/people/ZarTar/61551675780051/" target="_blank" rel="noopener noreferrer">Facebook</a></p>
                    <p><i class="fab fa-instagram"></i> <a href="https://www.instagram.com/zartar_zt/" target="_blank" rel="noopener noreferrer">Instagram</a></p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 ZarTar. Wszelkie prawa zastrzeżone.</p>
    </footer>

    <!-- Modal/Popup -->
    <div id="imageModal" class="modal">
        <span class="modal-close">&times;</span>
        <img class="modal-content" id="modalImage">
        <div id="modalCaption"></div>
        <div class="modal-thumbnails"></div>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>

    <script>
        // Header scroll effect
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Modal functionality
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const captionText = document.getElementById('modalCaption');
        const closeBtn = document.getElementsByClassName('modal-close')[0];
        const galleryItems = document.querySelectorAll('.gallery-item');
        const thumbnailsContainer = document.querySelector('.modal-thumbnails'); // Get the thumbnails container

        let slideIndex = 0; // Current slide index within the current set of images
        let currentImages = []; // Array to hold images for the current modal view
        let currentCaptions = []; // Array to hold captions for the current modal view

        // Function to display the current slide and update active thumbnail
        function showSlide(n) {
            console.log('showSlide called with index:', n); // Log when showSlide is called

            if (currentImages.length === 0) {
                console.error("No images loaded for this gallery item.");
                return; // No images to show
            }

            // Calculate the new slide index, handling wrap-around
            if (n >= currentImages.length) { slideIndex = 0 }
            else if (n < 0) { slideIndex = currentImages.length - 1 }
            else { slideIndex = n; }
            
            const imagePath = currentImages[slideIndex]; // Use the (now updated) slideIndex to get the image path
            
            // Add an error listener before setting the src
            modalImg.onerror = function() {
                console.error(`Failed to load image: ${imagePath}`);
                captionText.innerHTML = `<h3>Błąd ładowania obrazu</h3><p>Nie można wczytać pliku: ${imagePath}. Sprawdź, czy plik istnieje i ścieżka jest poprawna.</p>`;
                modalImg.src = ''; // Clear the src to stop trying to load
            };

            // Set the image source
            console.log('Setting modal image source to:', imagePath); // Log the image path being set
            modalImg.src = imagePath; 

            // Assuming all images in a set share the same title and description for simplicity
            // If you need different captions per image, this part needs more complex logic
            if (currentCaptions[slideIndex]) {
                 captionText.innerHTML = currentCaptions[slideIndex];
            } else { // Fallback to first item's caption if individual caption not found
                 captionText.innerHTML = currentCaptions[0] || '';
            }

            // Update active thumbnail class
            const thumbnails = thumbnailsContainer.querySelectorAll('.thumbnail');
            thumbnails.forEach((thumb, index) => {
                if (index === slideIndex) {
                    thumb.classList.add('active');
                } else {
                    thumb.classList.remove('active');
                }
            });
        }

        // Function to navigate between slides
        function plusSlides(n) {
            showSlide(slideIndex += n);
        }

        // Function to generate thumbnails
        function generateThumbnails() {
            thumbnailsContainer.innerHTML = ''; // Clear previous thumbnails
            currentImages.forEach((imageSrc, index) => {
                const thumb = document.createElement('img');
                thumb.classList.add('thumbnail');
                thumb.src = imageSrc; // Use the same image source for thumbnail
                thumb.alt = `Thumbnail ${index + 1}`;
                thumb.addEventListener('click', function() {
                    console.log('Thumbnail clicked, index:', index); // Log when a thumbnail is clicked
                    showSlide(index); 
                });
                thumbnailsContainer.appendChild(thumb);
            });
        }

        // Add click event to all gallery images
        galleryItems.forEach((item, index) => {
            item.addEventListener('click', function() {
                // Get images from data-images attribute
                const images = this.getAttribute('data-images').split(',');
                currentImages = images.map(img => img.trim()); // Store images for this item
                
                // Get caption (title and description) from this item
                const title = this.querySelector('h3').textContent;
                const description = this.querySelector('p').textContent;
                currentCaptions = currentImages.map(() => `<h3>${title}</h3><p>${description}</p>`); // Create captions array (one caption per image)

                modal.style.display = "flex"; // Display modal first
                slideIndex = 0; // Start with the first image of the set
                generateThumbnails(); // Generate thumbnails for this set
                showSlide(slideIndex);
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            });
        });

        // Close modal when clicking the close button
        closeBtn.onclick = function() {
            modal.style.display = "none";
            document.body.style.overflow = 'auto'; // Enable scrolling
            currentImages = []; // Clear the image list when closing
            currentCaptions = [];
            modalImg.src = ''; // Clear image source on close
            modalImg.onerror = null; // Remove error listener
            thumbnailsContainer.innerHTML = ''; // Clear thumbnails on close
        }

        // Close modal when clicking outside the image
        modal.onclick = function(event) {
            if (event.target === modal) {
                modal.style.display = "none";
                document.body.style.overflow = 'auto';
                currentImages = []; // Clear the image list when closing
                currentCaptions = [];
                modalImg.src = ''; // Clear image source on close
                 modalImg.onerror = null; // Remove error listener
                 thumbnailsContainer.innerHTML = ''; // Clear thumbnails on close
            }
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && modal.style.display === 'flex') {
                modal.style.display = "none";
                document.body.style.overflow = 'auto';
                currentImages = []; // Clear the image list when closing
                currentCaptions = [];
                modalImg.src = ''; // Clear image source on close
                 modalImg.onerror = null; // Remove error listener
                 thumbnailsContainer.innerHTML = ''; // Clear thumbnails on close
            }
        });
    </script>
</body>
</html> 